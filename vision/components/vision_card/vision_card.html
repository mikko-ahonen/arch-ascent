<div class="card mb-2 vision-card" id="vision-{{ vision.id }}">
  <div class="card-body py-2">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <a href="{% url 'vision:detail' vision.id %}" class="text-decoration-none">
          {{ vision.name }}
        </a>
        {% if vision.status == 'draft' %}
          <span class="badge text-warning-emphasis bg-warning-subtle border border-warning-subtle ms-2">{{ vision.get_status_display }}</span>
        {% elif vision.status == 'shared' %}
          <span class="badge text-success-emphasis bg-success-subtle border border-success-subtle ms-2">{{ vision.get_status_display }}</span>
        {% else %}
          <span class="badge text-secondary-emphasis bg-secondary-subtle border border-secondary-subtle ms-2">{{ vision.get_status_display }}</span>
        {% endif %}
        <span class="text-muted small ms-2">{{ vision.layers.count }} layers, {{ vision.statements.count }} statements</span>
      </div>
      <div class="btn-group btn-group-sm">
        <a href="{% url 'vision:detail' vision.id %}" class="btn btn-outline-secondary">Open</a>
        <button
          type="button"
          class="btn btn-outline-secondary"
          hx-get="{% url 'vision:vision-form' %}?vision_id={{ vision.id }}"
          hx-target="#dialog"
        >Edit</button>
        <button
          type="button"
          class="btn btn-outline-secondary"
          hx-delete="{% url 'vision:vision-delete' %}?vision_id={{ vision.id }}"
          hx-target="closest .vision-card"
          hx-swap="outerHTML"
          hx-confirm="Delete '{{ vision.name }}'?"
        >Delete</button>
      </div>
    </div>
  </div>
</div>
