/* Tagged Editor Component Styles */

.tagged-editor-container {
    position: relative;
    border: 1px solid #495057;
    border-radius: 4px;
    background-color: #1a1a2e;
}

.tagged-editor-toolbar {
    display: flex;
    align-items: center;
    padding: 8px;
    border-bottom: 1px solid #495057;
    background-color: #16213e;
    border-radius: 4px 4px 0 0;
}

.tagged-editor-toolbar .tag-btn {
    display: flex;
    align-items: center;
    gap: 4px;
}

.tagged-editor-toolbar .tag-color-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
}

.tagged-editor-wrapper {
    position: relative;
    min-height: 150px;
}

.tagged-editor-content {
    position: relative;
    z-index: 2;
    padding: 12px;
    min-height: 150px;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 14px;
    line-height: 1.5;
    color: #e4e4e4;
    white-space: pre-wrap;
    word-wrap: break-word;
    outline: none;
    background: transparent;
}

.tagged-editor-content:empty:before {
    content: attr(data-placeholder);
    color: #6c757d;
    pointer-events: none;
}

.tagged-editor-content:focus {
    background-color: rgba(255, 255, 255, 0.02);
}

/* Annotations overlay */
.tagged-editor-annotations {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
    pointer-events: none;
    padding: 12px;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 14px;
    line-height: 1.5;
}

/* Individual tag annotation */
.tag-annotation {
    position: absolute;
    pointer-events: none;
}

.tag-annotation-line {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 1px;
    background-color: var(--tag-color, #3498db);
}

/* Start marker (vertical line) */
.tag-annotation-start {
    position: absolute;
    left: 0;
    bottom: 0;
    width: 1px;
    height: 5px;
    background-color: var(--tag-color, #3498db);
}

/* End marker (vertical line) */
.tag-annotation-end {
    position: absolute;
    right: 0;
    bottom: 0;
    width: 1px;
    height: 5px;
    background-color: var(--tag-color, #3498db);
}

/* Tag label */
.tag-annotation-label {
    position: absolute;
    bottom: -14px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 9px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    color: var(--tag-color, #3498db);
    white-space: nowrap;
    text-transform: lowercase;
    letter-spacing: 0.3px;
    font-weight: 500;
}

/* Inline tag highlight in text */
.tagged-text {
    position: relative;
    display: inline;
    padding-bottom: 0;
    margin-bottom: 10px;
}

/* Tag visual elements are created dynamically by JavaScript */
.tagged-text .tag-line-segment {
    pointer-events: none;
}

/* Make tagged text clickable */
.tagged-text {
    cursor: pointer;
}

.tagged-text:hover {
    background-color: rgba(var(--tag-color-rgb, 52, 152, 219), 0.15);
}

/* Multi-line tag segments */
.tag-segment {
    position: relative;
    display: inline;
}

.tag-segment-underline {
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    height: 1px;
    background-color: var(--tag-color, #3498db);
}

.tag-segment-start .tag-segment-underline::before {
    content: '';
    position: absolute;
    left: 0;
    bottom: 0;
    width: 1px;
    height: 5px;
    background-color: var(--tag-color, #3498db);
}

.tag-segment-end .tag-segment-underline::after {
    content: '';
    position: absolute;
    right: 0;
    bottom: 0;
    width: 1px;
    height: 5px;
    background-color: var(--tag-color, #3498db);
}

/* Tag label - centered on longest segment */
.tag-segment .tag-segment-label {
    position: absolute;
    bottom: -14px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 9px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    color: var(--tag-color, #3498db);
    text-transform: lowercase;
    letter-spacing: 0.3px;
    font-weight: 500;
    white-space: nowrap;
}

/* Selection highlight for tagging */
.tagged-editor-content ::selection {
    background-color: rgba(52, 152, 219, 0.3);
}

/* Read-only state */
.tagged-editor-container.readonly .tagged-editor-toolbar {
    display: none;
}

.tagged-editor-container.readonly .tagged-editor-content {
    cursor: default;
}
